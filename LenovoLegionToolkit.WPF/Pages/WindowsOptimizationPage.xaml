<wpfui:UiPage
    x:Class="LenovoLegionToolkit.WPF.Pages.WindowsOptimizationPage"
    x:Name="PageRoot"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    UseLayoutRounding="True"
    SnapsToDevicePixels="True"
    TextOptions.TextFormattingMode="Display"
    TextOptions.TextRenderingMode="Auto"
    TextOptions.TextHintingMode="Fixed"
    RenderOptions.BitmapScalingMode="HighQuality"
    xmlns:controls="clr-namespace:LenovoLegionToolkit.WPF.Controls"
    xmlns:custom="clr-namespace:LenovoLegionToolkit.WPF.Controls.Custom"
    xmlns:resources="clr-namespace:LenovoLegionToolkit.WPF.Resources"
    xmlns:utils="clr-namespace:LenovoLegionToolkit.WPF.Utils"
    xmlns:wpfui="http://schemas.lepo.co/wpfui/2022/xaml"
    xmlns:conv="clr-namespace:System.Windows.Controls;assembly=PresentationFramework"
    Title="{x:Static resources:Resource.SettingsPage_WindowsOptimization_Title}"
    FlowDirection="{x:Static utils:LocalizationHelper.Direction}"
    Scrollable="False"
    Loaded="Page_Loaded">

    <wpfui:UiPage.Resources>
        <conv:BooleanToVisibilityConverter x:Key="BoolToVisibilityConverter" />
        <Style TargetType="RadioButton" x:Key="NavRadioButtonStyle">
            <Setter Property="Margin" Value="0,0,12,0" />
            <Setter Property="Padding" Value="16,8" />
            <Setter Property="FontWeight" Value="Medium" />
            <Setter Property="Foreground" Value="{DynamicResource TextFillColorPrimaryBrush}" />
            <Setter Property="Background" Value="{DynamicResource ControlFillColorDefaultBrush}" />
            <Setter Property="BorderBrush" Value="{DynamicResource ControlStrokeColorDefaultBrush}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="RadioButton">
                        <Border
                            x:Name="RootBorder"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="16">
                            <ContentPresenter
                                x:Name="ContentPresenter"
                                Margin="8,2"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                RecognizesAccessKey="True"
                                Content="{TemplateBinding Content}"
                                ContentTemplate="{TemplateBinding ContentTemplate}"
                                TextElement.FontWeight="{TemplateBinding FontWeight}"
                                TextElement.Foreground="{DynamicResource TextFillColorPrimaryBrush}" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="RootBorder" Property="Background" Value="{DynamicResource AccentFillColorSecondaryBrush}" />
                                <Setter TargetName="RootBorder" Property="BorderBrush" Value="{DynamicResource AccentFillColorSecondaryBrush}" />
                                <Setter TargetName="ContentPresenter" Property="TextElement.Foreground" Value="{DynamicResource TextOnAccentFillColorPrimaryBrush}" />
                            </Trigger>
                            <Trigger Property="IsChecked" Value="False">
                                <Setter TargetName="RootBorder" Property="Background" Value="{DynamicResource ControlFillColorDefaultBrush}" />
                                <Setter TargetName="RootBorder" Property="BorderBrush" Value="{DynamicResource ControlStrokeColorDefaultBrush}" />
                                <Setter TargetName="ContentPresenter" Property="TextElement.Foreground" Value="{DynamicResource TextFillColorPrimaryBrush}" />
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="RootBorder" Property="Background" Value="{DynamicResource ControlFillColorDefaultBrush}" />
                                <Setter TargetName="RootBorder" Property="BorderBrush" Value="{DynamicResource ControlStrokeColorDefaultBrush}" />
                                <Setter TargetName="ContentPresenter" Property="TextElement.Foreground" Value="{DynamicResource TextFillColorTertiaryBrush}" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style TargetType="Border" x:Key="CardContainerStyle">
            <Setter Property="Padding" Value="20" />
            <Setter Property="CornerRadius" Value="12" />
            <Setter Property="Background" Value="{DynamicResource ControlFillColorDefaultBrush}" />
            <Setter Property="BorderBrush" Value="{DynamicResource ControlStrokeColorDefaultBrush}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Margin" Value="0,0,16,16" />
                <Style.Triggers>
                    <Trigger Property="IsMouseOver" Value="True">
                        <Setter Property="Background" Value="{DynamicResource ControlFillColorSecondaryBrush}" />
                        <Setter Property="BorderBrush" Value="{DynamicResource ControlStrokeColorSecondaryBrush}" />
                    </Trigger>
                </Style.Triggers>
        </Style>
        <Style TargetType="TextBlock" x:Key="SectionTitleTextStyle">
            <Setter Property="FontSize" Value="18" />
            <Setter Property="FontWeight" Value="Medium" />
            <Setter Property="Margin" Value="0,0,0,8" />
            <Setter Property="Foreground" Value="{DynamicResource TextFillColorPrimaryBrush}" />
        </Style>
        <Style x:Key="PrimaryActionButtonStyle" TargetType="wpfui:Button" BasedOn="{StaticResource {x:Type wpfui:Button}}">
            <Setter Property="Appearance" Value="Primary" />
            <Setter Property="CornerRadius" Value="8" />
            <Setter Property="Background" Value="{DynamicResource AccentFillColorSecondaryBrush}" />
            <Setter Property="BorderBrush" Value="{DynamicResource AccentFillColorSecondaryBrush}" />
            <Setter Property="Foreground" Value="{DynamicResource TextOnAccentFillColorPrimaryBrush}" />
                <Setter Property="MinWidth" Value="180" />
                <Setter Property="MinHeight" Value="36" />
            <Setter Property="Margin" Value="0,0,12,0" />
            <Style.Triggers>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="Opacity" Value="0.6" />
                </Trigger>
            </Style.Triggers>
        </Style>
        <Style x:Key="CleanupActionButtonStyle" TargetType="wpfui:Button" BasedOn="{StaticResource PrimaryActionButtonStyle}">
            <Setter Property="Visibility" Value="Collapsed" />
            <Setter Property="Margin" Value="0" />
            <Style.Triggers>
                <DataTrigger Binding="{Binding IsCleanupMode, RelativeSource={RelativeSource AncestorType=wpfui:UiPage}}" Value="True">
                    <Setter Property="Visibility" Value="Visible" />
                </DataTrigger>
            </Style.Triggers>
        </Style>
        <Style x:Key="BeautificationActionButtonStyle" TargetType="wpfui:Button" BasedOn="{StaticResource PrimaryActionButtonStyle}">
            <Setter Property="Visibility" Value="Collapsed" />
            <Setter Property="Margin" Value="0" />
            <Style.Triggers>
                <DataTrigger Binding="{Binding IsBeautificationMode, RelativeSource={RelativeSource AncestorType=wpfui:UiPage}}" Value="True">
                    <Setter Property="Visibility" Value="Visible" />
                </DataTrigger>
            </Style.Triggers>
        </Style>
    </wpfui:UiPage.Resources>

        <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <Grid
            Grid.Row="0"
            Margin="0,0,16,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <StackPanel Margin="0,16,0,24">
                <TextBlock
                    Margin="0,0,0,8"
                    AutomationProperties.Name="{Binding RelativeSource={RelativeSource Mode=Self}, Path=Text}"
                    Focusable="True"
                    FontSize="24"
                    FontWeight="Medium"
                    Text="{x:Static resources:Resource.SettingsPage_WindowsOptimization_Title}" />

                <TextBlock
                    MaxWidth="540"
                    Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                    HorizontalAlignment="Left"
                    Text="{x:Static resources:Resource.WindowsOptimizationPage_Info}"
                    TextTrimming="CharacterEllipsis"
                    TextWrapping="Wrap" />
            </StackPanel>

            <wpfui:Button
                Grid.Column="1"
                Margin="32,0,0,0"
                Padding="12"
                VerticalAlignment="Center"
                Background="{DynamicResource ControlFillColorDefaultBrush}"
                BorderBrush="{DynamicResource ControlStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="12"
                Click="SelectedActionsButton_Click"
                Cursor="Hand">
                <StackPanel>
                    <TextBlock
                        FontSize="14"
                        FontWeight="Medium"
                        Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                        Text="{x:Static resources:Resource.WindowsOptimizationPage_SelectedActions_Header}" />
                    <TextBlock
                        Margin="0,4,0,0"
                        Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                        Text="{Binding SelectedActionsSummary, FallbackValue=''}"
                        TextWrapping="Wrap" />
                </StackPanel>
            </wpfui:Button>
        </Grid>

        <Grid Grid.Row="1" Margin="0,0,16,12">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <Grid Grid.Row="0" Margin="0,0,0,16">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="0,0,24,0">
                        <RadioButton
                            x:Name="_optimizationNavButton"
                            Style="{StaticResource NavRadioButtonStyle}"
                            GroupName="OptimizationCleanupBeautificationNav"
                            Content="{x:Static resources:Resource.WindowsOptimizationPage_Tab_Optimization}"
                            IsChecked="True"
                            Checked="OptimizationNavButton_Checked" />
                        <RadioButton
                            x:Name="_cleanupNavButton"
                            Style="{StaticResource NavRadioButtonStyle}"
                            GroupName="OptimizationCleanupBeautificationNav"
                            Content="{x:Static resources:Resource.WindowsOptimizationPage_Tab_Cleanup}"
                            Checked="CleanupNavButton_Checked" />
                        <RadioButton
                            x:Name="_beautificationNavButton"
                            Style="{StaticResource NavRadioButtonStyle}"
                            GroupName="OptimizationCleanupBeautificationNav"
                            Content="{x:Static resources:Resource.WindowsOptimizationPage_Tab_Beautification}"
                            Checked="BeautificationNavButton_Checked" />
                            <wpfui:Button
                                Margin="12,0,0,0"
                                Appearance="Transparent"
                                Content="{Binding ExpandCollapseText, RelativeSource={RelativeSource AncestorType=wpfui:UiPage}}"
                                Click="ToggleExpandCollapseButton_Click" />
                    </StackPanel>

                    <Grid Grid.Column="1" VerticalAlignment="Center">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>
                        <Grid Grid.Row="0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                            <TextBlock
                                Grid.Column="0"
                                VerticalAlignment="Center"
                                Text=""
                                Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                                FontSize="14"
                                Visibility="Collapsed" />
                            <StackPanel
                                Grid.Column="1"
                                HorizontalAlignment="Right">
                                <StackPanel.Resources>
                                    <Style TargetType="wpfui:Button" BasedOn="{StaticResource {x:Type wpfui:Button}}">
                                        <Setter Property="MinHeight" Value="36" />
                                    </Style>
                                </StackPanel.Resources>
                                <WrapPanel ItemHeight="36" ItemWidth="Auto" Orientation="Horizontal">
                                <wpfui:Button
                                    x:Name="_selectRecommendedButton"
                                    MinWidth="180"
                                    Margin="0,0,12,0"
                                    Appearance="Secondary"
                                    ToolTip="{x:Static resources:Resource.WindowsOptimizationPage_SelectRecommended_Button}"
                                    AutomationProperties.Name="{x:Static resources:Resource.WindowsOptimizationPage_SelectRecommended_Button}"
                                    Click="SelectRecommendedButton_Click"
                                    Content="{x:Static resources:Resource.WindowsOptimizationPage_SelectRecommended_Button}" />
                                <wpfui:Button
                                    x:Name="_clearButton"
                                    MinWidth="160"
                                    Margin="0,0,12,0"
                                    Appearance="Secondary"
                                    ToolTip="{x:Static resources:Resource.WindowsOptimizationPage_ClearSelection_Button}"
                                    AutomationProperties.Name="{x:Static resources:Resource.WindowsOptimizationPage_ClearSelection_Button}"
                                    Click="ClearSelectionButton_Click"
                                    Content="{x:Static resources:Resource.WindowsOptimizationPage_ClearSelection_Button}" />
                                </WrapPanel>
                            </StackPanel>
                        </Grid>
                        <ProgressBar
                            x:Name="_operationProgressBar"
                            Grid.Row="1"
                            Height="4"
                            Margin="0,12,0,0"
                            Minimum="0"
                            Maximum="1"
                            IsIndeterminate="True"
                            Visibility="Collapsed" />
                    </Grid>
            </Grid>

            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition>
                        <ColumnDefinition.Style>
                            <Style TargetType="ColumnDefinition">
                                <Setter Property="Width" Value="0" />
                                <Setter Property="MinWidth" Value="0" />
                                <Setter Property="MaxWidth" Value="0" />
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding IsCleanupMode, RelativeSource={RelativeSource AncestorType=wpfui:UiPage}}" Value="True">
                                    <Setter Property="Width" Value="Auto" />
                                    <Setter Property="MinWidth" Value="280" />
                                    <Setter Property="MaxWidth" Value="400" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding IsBeautificationMode, RelativeSource={RelativeSource AncestorType=wpfui:UiPage}}" Value="True">
                                    <Setter Property="Width" Value="Auto" />
                                    <Setter Property="MinWidth" Value="280" />
                                    <Setter Property="MaxWidth" Value="400" />
                                </DataTrigger>
                            </Style.Triggers>
                            </Style>
                        </ColumnDefinition.Style>
                    </ColumnDefinition>
                </Grid.ColumnDefinitions>

                <Border Grid.Column="0" Margin="0,0,16,0">
                    <Border.Style>
                        <Style TargetType="Border" BasedOn="{StaticResource CardContainerStyle}">
                            <Setter Property="Padding" Value="20" />
                        </Style>
                    </Border.Style>
                    <ScrollViewer
                        VerticalScrollBarVisibility="Auto"
                        HorizontalScrollBarVisibility="Disabled">
                        <Grid>
                            <!-- Beautification Mode Content -->
                            <StackPanel x:Name="_beautificationMainContent" Visibility="Collapsed">
                            <StackPanel.Style>
                                <Style TargetType="StackPanel">
                                    <Setter Property="Visibility" Value="Collapsed" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsBeautificationMode, RelativeSource={RelativeSource AncestorType=wpfui:UiPage}}" Value="True">
                                            <Setter Property="Visibility" Value="Visible" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </StackPanel.Style>
                            <Border
                                Background="{DynamicResource ControlFillColorDefaultBrush}"
                                BorderBrush="{DynamicResource ControlStrokeColorDefaultBrush}"
                                BorderThickness="1"
                                CornerRadius="12"
                                Padding="20">
                                <StackPanel>
                                    <TextBlock
                                        FontSize="18"
                                        FontWeight="Medium"
                                        Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                        Text="{x:Static resources:Resource.SystemBeautification_RightClick_Title}"
                                        TextWrapping="Wrap" />
                                    <TextBlock
                                        Margin="0,6,0,16"
                                        Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                        Text="{x:Static resources:Resource.SystemBeautification_RightClick_Subtitle}"
                                        TextWrapping="Wrap" />
                                    <TextBlock
                                        x:Name="_beautificationStatusText"
                                        Margin="0,0,0,16"
                                        Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                                        Text="{Binding BeautificationStatusText, RelativeSource={RelativeSource AncestorType=wpfui:UiPage}}"
                                        TextWrapping="Wrap" />
                                    <StackPanel Orientation="Horizontal">
                                        <wpfui:Button
                                            x:Name="_installShellButton"
                                            Margin="0,0,8,0"
                                            Click="InstallShellButton_Click"
                                            Content="{x:Static resources:Resource.SystemBeautification_RightClick_Install}"
                                            IsEnabled="{Binding CanInstall, RelativeSource={RelativeSource AncestorType=wpfui:UiPage}}" />
                                        <wpfui:Button
                                            x:Name="_uninstallShellButton"
                                            Margin="0,0,8,0"
                                            Click="UninstallShellButton_Click"
                                            Content="{x:Static resources:Resource.SystemBeautification_RightClick_Uninstall}"
                                            IsEnabled="{Binding CanUninstall, RelativeSource={RelativeSource AncestorType=wpfui:UiPage}}" />
                                    </StackPanel>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                        <!-- Other Modes Content -->
                        <ItemsControl
                            x:Name="_categoriesList"
                            ItemsSource="{Binding ActiveCategories}"
                            BorderThickness="0"
                            Background="Transparent"
                            Visibility="Visible">
                            <ItemsControl.Style>
                                <Style TargetType="ItemsControl">
                                    <Setter Property="Visibility" Value="Visible" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsBeautificationMode, RelativeSource={RelativeSource AncestorType=wpfui:UiPage}}" Value="True">
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </ItemsControl.Style>
                            <ItemsControl.ItemContainerStyle>
                                <Style TargetType="ContentPresenter">
                                    <Setter Property="Margin" Value="0,0,0,16" />
                            </Style>
                            </ItemsControl.ItemContainerStyle>
                            <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                    <Border
                                        Background="{DynamicResource ControlFillColorDefaultBrush}"
                                        BorderBrush="{DynamicResource ControlStrokeColorDefaultBrush}"
                                        BorderThickness="1"
                                        CornerRadius="12"
                                        Padding="20">
                                        <StackPanel>
                                            <!-- Category Header -->
                                            <Grid Margin="0,0,0,0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>
                                        <CheckBox
                                                    Grid.Column="0"
                                            Width="20"
                                            Margin="0,0,12,0"
                                            VerticalAlignment="Center"
                                            IsThreeState="True"
                                            IsChecked="{Binding HeaderCheckState, Mode=TwoWay}" />
                                                <StackPanel Grid.Column="1">
                                        <TextBlock
                                                        FontSize="18"
                                            FontWeight="Medium"
                                                        Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                            Text="{Binding Title}"
                                            TextWrapping="Wrap" />
                                                    <TextBlock
                                                        Margin="0,6,0,0"
                                                        Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                        Text="{Binding Description}"
                                                        TextWrapping="Wrap" />
                                                </StackPanel>
                                        <wpfui:Badge
                                            Grid.Column="2"
                                                    Margin="12,0,0,0"
                                            Appearance="Secondary"
                                            Background="{DynamicResource ControlFillColorDefaultBrush}"
                                            BorderBrush="{DynamicResource ControlFillColorDefaultBrush}"
                                            Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                            Content="{Binding SelectionSummary}">
                                            <wpfui:Badge.Style>
                                                <Style TargetType="wpfui:Badge">
                                                    <Setter Property="Content" Value="{Binding SelectionSummary}" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding IsCompactView, RelativeSource={RelativeSource AncestorType=wpfui:UiPage}}" Value="True">
                                                            <Setter Property="Content" Value="{Binding SelectedActionCount}" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </wpfui:Badge.Style>
                                        </wpfui:Badge>
                                    </Grid>
                                            
                                            <!-- Category Actions -->
                                            <Expander
                                                Margin="0,12,0,0"
                                                IsExpanded="{Binding IsExpanded, Mode=TwoWay}"
                                                ExpandDirection="Down">
                                                <Expander.Header>
                            <TextBlock
                                                        FontSize="14"
                                Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                        Text="{x:Static resources:Resource.WindowsOptimizationPage_SelectedActions_Header}" />
                                                </Expander.Header>
                                                <ItemsControl Margin="0,12,0,0" ItemsSource="{Binding Actions}">
                                                <ItemsControl.ItemContainerStyle>
                                                    <Style TargetType="ContentPresenter">
                                    <Setter Property="Margin" Value="0,0,0,8" />
                                </Style>
                                                </ItemsControl.ItemContainerStyle>
                                                <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                                        <Border
                                                            Background="{DynamicResource ControlFillColorDefaultBrush}"
                                                            BorderBrush="{DynamicResource ControlStrokeColorDefaultBrush}"
                                                            BorderThickness="1"
                                                            CornerRadius="8"
                                                            Padding="12">
                                                            <StackPanel>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="Auto" />
                                            </Grid.ColumnDefinitions>
                                            <CheckBox
                                                Grid.Column="0"
                                                IsEnabled="{Binding IsEnabled}"
                                                IsChecked="{Binding IsSelected, Mode=TwoWay}"
                                                Content="{Binding Title}" />
                                            <wpfui:Badge
                                                Grid.Column="1"
                                                Margin="12,0,0,0"
                                                Background="{DynamicResource ControlFillColorDefaultBrush}"
                                                BorderBrush="{DynamicResource ControlFillColorDefaultBrush}"
                                                Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                Content="{Binding RecommendedTagText}"
                                                Visibility="{Binding HasRecommendedTag, Converter={StaticResource BoolToVisibilityConverter}}" />
                                        </Grid>
                                        <TextBlock
                                            Margin="0,6,0,0"
                                            Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                            Text="{Binding Description}"
                                            TextWrapping="Wrap">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Visibility" Value="Visible" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding IsCompactView, RelativeSource={RelativeSource AncestorType=wpfui:UiPage}}"
                                                                     Value="True">
                                                            <Setter Property="Visibility" Value="Collapsed" />
                                                        </DataTrigger>
                                                        <Trigger Property="Text" Value="">
                                                            <Setter Property="Visibility" Value="Collapsed" />
                                                        </Trigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </StackPanel>
                                                        </Border>
                                                    </DataTemplate>
                                                </ItemsControl.ItemTemplate>
                                                </ItemsControl>
                                            </Expander>
                                        </StackPanel>
                                    </Border>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </Grid>
                    </ScrollViewer>
                    
                </Border>

                <ScrollViewer
                    Grid.Column="2"
                    VerticalScrollBarVisibility="Auto"
                    HorizontalScrollBarVisibility="Disabled"
                    CanContentScroll="False"
                    PreviewMouseWheel="ScrollViewer_PreviewMouseWheel">
                    <ScrollViewer.Style>
                        <Style TargetType="ScrollViewer">
                            <Setter Property="MinWidth" Value="0" />
                            <Setter Property="Visibility" Value="Collapsed" />
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding IsCleanupMode, RelativeSource={RelativeSource AncestorType=wpfui:UiPage}}" Value="True">
                                    <Setter Property="MinWidth" Value="260" />
                                    <Setter Property="Visibility" Value="Visible" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding IsBeautificationMode, RelativeSource={RelativeSource AncestorType=wpfui:UiPage}}" Value="True">
                                    <Setter Property="MinWidth" Value="260" />
                                    <Setter Property="Visibility" Value="Visible" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </ScrollViewer.Style>
                    <StackPanel>
                        <StackPanel.Resources>
                            <Style x:Key="RightColumnOptimizationCardStyle" TargetType="Border" BasedOn="{StaticResource CardContainerStyle}">
                                <Setter Property="Margin" Value="0,0,0,16" />
                                <Setter Property="Padding" Value="20" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsCleanupMode, RelativeSource={RelativeSource AncestorType=wpfui:UiPage}}" Value="True">
                                        <Setter Property="Visibility" Value="Collapsed" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding IsBeautificationMode, RelativeSource={RelativeSource AncestorType=wpfui:UiPage}}" Value="True">
                                        <Setter Property="Visibility" Value="Collapsed" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                            <Style x:Key="RightColumnCardStyle" TargetType="Border" BasedOn="{StaticResource CardContainerStyle}">
                                <Setter Property="Margin" Value="0,0,0,16" />
                                <Setter Property="Padding" Value="20" />
                            </Style>
                            <Style x:Key="RightColumnCleanupCardStyle" TargetType="Border" BasedOn="{StaticResource RightColumnCardStyle}">
                                <Setter Property="Visibility" Value="Collapsed" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsCleanupMode, RelativeSource={RelativeSource AncestorType=wpfui:UiPage}}" Value="True">
                                        <Setter Property="Visibility" Value="Visible" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                            <Style x:Key="RightColumnBeautificationCardStyle" TargetType="Border" BasedOn="{StaticResource RightColumnCardStyle}">
                                <Setter Property="Visibility" Value="Collapsed" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsBeautificationMode, RelativeSource={RelativeSource AncestorType=wpfui:UiPage}}" Value="True">
                                        <Setter Property="Visibility" Value="Visible" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </StackPanel.Resources>
                        <Border
                            Style="{StaticResource RightColumnOptimizationCardStyle}">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="*" />
                                </Grid.RowDefinitions>

                                <TextBlock
                                    Grid.Row="0"
                                    FontSize="16"
                                    FontWeight="Medium"
                                    Text="{x:Static resources:Resource.WindowsOptimizationPage_SelectedActions_Header}" />
                                <TextBlock
                                    Grid.Row="1"
                                    Margin="0,4,0,12"
                                    Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                    Text="{Binding SelectedActionsSummary}" />

                                <Grid Grid.Row="2">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*" />
                                        <RowDefinition Height="Auto" />
                                    </Grid.RowDefinitions>

                                    <ListView
                                        Grid.Row="0"
                                        ItemsSource="{Binding SelectedOptimizationActions}"
                                        BorderThickness="0"
                                        Background="Transparent"
                                        ScrollViewer.VerticalScrollBarVisibility="Auto"
                                        ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                                        <ListView.ItemContainerStyle>
                                            <Style TargetType="ListViewItem">
                                                <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                                                <Setter Property="Margin" Value="0,0,0,8" />
                                                <Setter Property="Background" Value="{DynamicResource ControlFillColorDefaultBrush}" />
                                                <Setter Property="Foreground" Value="{DynamicResource TextFillColorPrimaryBrush}" />
                                                <Setter Property="FocusVisualStyle" Value="{x:Null}" />
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="ListViewItem">
                                                            <Border Background="{TemplateBinding Background}" CornerRadius="8">
                                                                <ContentPresenter Margin="12" />
                                                            </Border>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                                <Style.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter Property="Background" Value="{DynamicResource ControlFillColorDefaultBrush}" />
                                                        <Setter Property="Foreground" Value="{DynamicResource TextFillColorPrimaryBrush}" />
                                                    </Trigger>
                                                    <Trigger Property="IsSelected" Value="True">
                                                        <Setter Property="Background" Value="{DynamicResource ControlFillColorDefaultBrush}" />
                                                        <Setter Property="Foreground" Value="{DynamicResource TextFillColorPrimaryBrush}" />
                                                    </Trigger>
                                                </Style.Triggers>
                                            </Style>
                                        </ListView.ItemContainerStyle>
                                        <ListView.ItemTemplate>
                                            <DataTemplate>
                                                <StackPanel>
                                                    <TextBlock
                                                        FontWeight="Medium"
                                                        Text="{Binding ActionTitle}"
                                                        TextWrapping="Wrap" />
                                                    <TextBlock
                                                        Margin="0,4,0,0"
                                                        Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                        Text="{Binding CategoryTitle}"
                                                        TextWrapping="Wrap" />
                                                    <TextBlock
                                                        Margin="0,4,0,0"
                                                        Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                        Text="{Binding Description}"
                                                        TextWrapping="Wrap">
                                                        <TextBlock.Style>
                                                            <Style TargetType="TextBlock">
                                                                <Setter Property="Visibility" Value="Visible" />
                                                                <Style.Triggers>
                                                                    <Trigger Property="Text" Value="">
                                                                        <Setter Property="Visibility" Value="Collapsed" />
                                                                    </Trigger>
                                                                </Style.Triggers>
                                                            </Style>
                                                        </TextBlock.Style>
                                                    </TextBlock>
                                                </StackPanel>
                                            </DataTemplate>
                                        </ListView.ItemTemplate>
                                    </ListView>

                                    <TextBlock
                                        Grid.Row="1"
                                        Margin="0,12,0,0"
                                        Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                        Text="{Binding SelectedActionsEmptyText}">
                                        <TextBlock.Style>
                                            <Style TargetType="TextBlock">
                                                <Setter Property="Visibility" Value="Collapsed" />
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding SelectedOptimizationActions.Count}" Value="0">
                                                        <Setter Property="Visibility" Value="Visible" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBlock.Style>
                                    </TextBlock>
                                </Grid>
                            </Grid>
                        </Border>

                        <Border
                            Style="{StaticResource RightColumnCleanupCardStyle}">
                            <StackPanel>
                                <!-- Show current running step during cleanup run; otherwise show estimation -->
                                <TextBlock
                                    Margin="0,0,0,0"
                                    Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                    Text="{Binding CurrentOperationText, RelativeSource={RelativeSource AncestorType=wpfui:UiPage}}"
                                    TextWrapping="Wrap">
                                    <TextBlock.Style>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="Visibility" Value="Collapsed" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsBusy, RelativeSource={RelativeSource AncestorType=wpfui:UiPage}}" Value="True">
                                                    <Setter Property="Visibility" Value="Visible" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </TextBlock.Style>
                                </TextBlock>
                                <TextBlock
                                    x:Name="_estimatedCleanupText"
                                    Margin="0,0,0,0"
                                    Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                    Text="{Binding EstimatedCleanupSizeText, RelativeSource={RelativeSource AncestorType=wpfui:UiPage}}"
                                    TextWrapping="Wrap">
                                    <TextBlock.Style>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="Visibility" Value="Visible" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsBusy, RelativeSource={RelativeSource AncestorType=wpfui:UiPage}}" Value="True">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                                <Trigger Property="Text" Value="">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </Trigger>
                                            </Style.Triggers>
                                        </Style>
                                    </TextBlock.Style>
                                </TextBlock>
                                <TextBlock
                                    Margin="0,4,0,0"
                                    Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                                    Text="{Binding PendingText, RelativeSource={RelativeSource AncestorType=wpfui:UiPage}}"
                                    TextWrapping="Wrap">
                                    <TextBlock.Style>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="Visibility" Value="Collapsed" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding Text, ElementName=_estimatedCleanupText}" Value="">
                                                    <Setter Property="Visibility" Value="Visible" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </TextBlock.Style>
                                </TextBlock>
                                <!-- Current deleting file -->
                                <TextBlock
                                    Margin="0,8,0,0"
                                    FontSize="12"
                                    Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                                    Text="{Binding CurrentDeletingFile, RelativeSource={RelativeSource AncestorType=wpfui:UiPage}}"
                                    TextWrapping="Wrap"
                                    TextTrimming="CharacterEllipsis">
                                    <TextBlock.Style>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="Visibility" Value="Collapsed" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsBusy, RelativeSource={RelativeSource AncestorType=wpfui:UiPage}}" Value="True">
                                                    <Setter Property="Visibility" Value="Visible" />
                                                </DataTrigger>
                                                <Trigger Property="Text" Value="">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </Trigger>
                                            </Style.Triggers>
                                        </Style>
                                    </TextBlock.Style>
                                </TextBlock>
                                <!-- Execute Cleanup Button -->
                                <wpfui:Button
                                    x:Name="_runCleanupButton"
                                    MinWidth="180"
                                    Margin="0,16,0,0"
                                    HorizontalAlignment="Stretch"
                                    ToolTip="{x:Static resources:Resource.WindowsOptimizationPage_RunCleanup_Button}"
                                    AutomationProperties.Name="{x:Static resources:Resource.WindowsOptimizationPage_RunCleanup_Button}"
                                    Click="RunCleanupButton_Click"
                                    Content="{x:Static resources:Resource.WindowsOptimizationPage_RunCleanup_Button}">
                                    <wpfui:Button.Style>
                                        <Style TargetType="wpfui:Button" BasedOn="{StaticResource CleanupActionButtonStyle}">
                                            <Setter Property="Visibility" Value="Collapsed" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsCleanupMode, RelativeSource={RelativeSource AncestorType=wpfui:UiPage}}" Value="True">
                                                    <Setter Property="Visibility" Value="Visible" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </wpfui:Button.Style>
                                </wpfui:Button>
                            </StackPanel>
                        </Border>

                        <Border
                            Style="{StaticResource RightColumnCleanupCardStyle}">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*" />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>

                                <ScrollViewer
                                    Grid.Row="0"
                                    Margin="0,0,0,12"
                                    VerticalScrollBarVisibility="Auto"
                                    HorizontalScrollBarVisibility="Disabled"
                                    PreviewMouseWheel="ScrollViewer_PreviewMouseWheel">
                                    <StackPanel>
                                        <TextBlock
                                            FontWeight="Medium"
                                            Text="{x:Static resources:Resource.WindowsOptimizationPage_CustomCleanup_Header}" />
                                        <TextBlock
                                            Margin="0,4,0,12"
                                            Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                            Text="{x:Static resources:Resource.WindowsOptimizationPage_CustomCleanup_Description}"
                                            TextWrapping="Wrap" />
                                        <ItemsControl ItemsSource="{Binding CustomCleanupRules}">
                                            <ItemsControl.ItemsPanel>
                                                <ItemsPanelTemplate>
                                                    <StackPanel />
                                                </ItemsPanelTemplate>
                                            </ItemsControl.ItemsPanel>
                                            <ItemsControl.Style>
                                                <Style TargetType="ItemsControl">
                                                    <Setter Property="Visibility" Value="Visible" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding CustomCleanupRules.Count}" Value="0">
                                                            <Setter Property="Visibility" Value="Collapsed" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </ItemsControl.Style>
                                            <ItemsControl.ItemTemplate>
                                                <DataTemplate>
                                                    <Border
                                                Margin="0,0,0,8"
                                                Padding="12"
                                                Background="{DynamicResource ControlFillColorDefaultBrush}"
                                                CornerRadius="8">
                                                        <StackPanel>
                                                            <TextBlock
                                                                FontWeight="Medium"
                                                                Text="{Binding DirectoryPath}"
                                                                TextWrapping="Wrap" />
                                                            <TextBlock
                                                                Margin="0,4,0,0"
                                                                Text="{Binding ExtensionsDisplay}"
                                                                TextWrapping="Wrap" />
                                                            <TextBlock
                                                                Margin="0,2,0,0"
                                                                Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                                                Text="{x:Static resources:Resource.WindowsOptimizationPage_CustomCleanup_Recursive_Label}">
                                                                <TextBlock.Style>
                                                                    <Style TargetType="TextBlock">
                                                                        <Setter Property="Visibility" Value="Collapsed" />
                                                                        <Style.Triggers>
                                                                            <DataTrigger Binding="{Binding Recursive}" Value="True">
                                                                                <Setter Property="Visibility" Value="Visible" />
                                                                            </DataTrigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </TextBlock.Style>
                                                            </TextBlock>
                                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                                                <wpfui:Button
                                                                    Margin="0,8,8,0"
                                                                    
                                                                    Tag="{Binding}"
                                                                    Click="EditCustomCleanupRuleButton_Click"
                                                                    Content="{x:Static resources:Resource.WindowsOptimizationPage_CustomCleanup_Edit}" />
                                                                <wpfui:Button
                                                                    Margin="0,8,0,0"
                                                                    
                                                                    Tag="{Binding}"
                                                                    Click="RemoveCustomCleanupRuleButton_Click"
                                                                    Content="{x:Static resources:Resource.WindowsOptimizationPage_CustomCleanup_Remove}" />
                                                            </StackPanel>
                                                        </StackPanel>
                                                    </Border>
                                                </DataTemplate>
                                            </ItemsControl.ItemTemplate>
                                        </ItemsControl>
                                        <TextBlock
                                            Margin="0,0,0,12"
                                            Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                                            Text="{x:Static resources:Resource.WindowsOptimizationPage_CustomCleanup_Empty}">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding CustomCleanupRules.Count}" Value="0">
                                                            <Setter Property="Visibility" Value="Visible" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </StackPanel>
                                </ScrollViewer>

                                <StackPanel Grid.Row="1" Orientation="Horizontal">
                                    <wpfui:Button
                                        x:Name="_addCustomCleanupRuleButton"
                                        Margin="0,0,8,0"
                                        Appearance="Secondary"
                                        Click="AddCustomCleanupRuleButton_Click"
                                        Content="{x:Static resources:Resource.WindowsOptimizationPage_CustomCleanup_Add}" />
                                    <wpfui:Button
                                        x:Name="_clearCustomCleanupRulesButton"
                                        
                                        Click="ClearCustomCleanupRulesButton_Click"
                                        Content="{x:Static resources:Resource.WindowsOptimizationPage_CustomCleanup_Clear}" />
                                </StackPanel>
                            </Grid>
                        </Border>

                        <!-- Windows Beautification Mode Content -->
                        <!-- Theme Settings Section -->
                        <Border
                            Style="{StaticResource RightColumnBeautificationCardStyle}">
                            <StackPanel>
                                <TextBlock
                                    FontWeight="Medium"
                                    FontSize="16"
                                    Text="{x:Static resources:Resource.SystemBeautification_MenuStyleSettings_Theme_Title}" />
                                <TextBlock
                                    Margin="0,4,0,12"
                                    Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                                    FontSize="13"
                                    Text="{x:Static resources:Resource.WindowsOptimizationPage_Beautification_Theme_Description}"
                                    TextWrapping="Wrap" />
                                <StackPanel Margin="0,0,0,0">
                                    <RadioButton
                                        x:Name="_beautificationThemeAutoRadio"
                                        GroupName="BeautificationTheme"
                                        Content="{x:Static resources:Resource.SystemBeautification_MenuStyleSettings_Theme_Auto}"
                                        Margin="0,0,0,8"
                                        Checked="BeautificationThemeRadio_Checked" />
                                    <RadioButton
                                        x:Name="_beautificationThemeLightRadio"
                                        GroupName="BeautificationTheme"
                                        Content="{x:Static resources:Resource.SystemBeautification_MenuStyleSettings_Theme_Light}"
                                        Margin="0,0,0,8"
                                        Checked="BeautificationThemeRadio_Checked" />
                                    <RadioButton
                                        x:Name="_beautificationThemeDarkRadio"
                                        GroupName="BeautificationTheme"
                                        Content="{x:Static resources:Resource.SystemBeautification_MenuStyleSettings_Theme_Dark}"
                                        Margin="0,0,0,8"
                                        Checked="BeautificationThemeRadio_Checked" />
                                    <RadioButton
                                        x:Name="_beautificationThemeClassicRadio"
                                        GroupName="BeautificationTheme"
                                        Content="{x:Static resources:Resource.SystemBeautification_MenuStyleSettings_Theme_Classic}"
                                        Margin="0,0,0,8"
                                        Checked="BeautificationThemeRadio_Checked" />
                                    <RadioButton
                                        x:Name="_beautificationThemeModernRadio"
                                        GroupName="BeautificationTheme"
                                        Content="{x:Static resources:Resource.SystemBeautification_MenuStyleSettings_Theme_Modern}"
                                        Margin="0,0,0,0"
                                        Checked="BeautificationThemeRadio_Checked" />
                                </StackPanel>
                            </StackPanel>
                        </Border>

                        <!-- Transparency Settings Section -->
                        <Border
                            Style="{StaticResource RightColumnBeautificationCardStyle}">
                            <StackPanel>
                                <TextBlock
                                    FontWeight="Medium"
                                    FontSize="16"
                                    Text="{x:Static resources:Resource.SystemBeautification_MenuStyleSettings_Transparency_Title}" />
                                <TextBlock
                                    Margin="0,4,0,12"
                                    Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                                    FontSize="13"
                                    Text="{x:Static resources:Resource.WindowsOptimizationPage_Beautification_Transparency_Description}"
                                    TextWrapping="Wrap" />
                                <wpfui:ToggleSwitch
                                    x:Name="_beautificationTransparencyToggle"
                                    IsChecked="{Binding TransparencyEnabled, RelativeSource={RelativeSource AncestorType=wpfui:UiPage}, Mode=TwoWay}"
                                    Content="{x:Static resources:Resource.SystemBeautification_MenuStyleSettings_Transparency_Enable}"
                                    Click="TransparencyToggle_Click" />
                            </StackPanel>
                        </Border>

                        <!-- Appearance Settings Section -->
                        <Border
                            Style="{StaticResource RightColumnBeautificationCardStyle}">
                            <StackPanel>
                                <TextBlock
                                    FontWeight="Medium"
                                    FontSize="16"
                                    Text="{x:Static resources:Resource.SystemBeautification_MenuStyleSettings_Appearance_Title}" />
                                <TextBlock
                                    Margin="0,4,0,12"
                                    Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                                    FontSize="13"
                                    Text="{x:Static resources:Resource.WindowsOptimizationPage_Beautification_Appearance_Description}"
                                    TextWrapping="Wrap" />
                                <StackPanel Margin="0,0,0,0">
                                    <wpfui:ToggleSwitch
                                        x:Name="_beautificationRoundedCornersToggle"
                                        Content="{x:Static resources:Resource.SystemBeautification_MenuStyleSettings_Appearance_RoundedCorners}"
                                        Margin="0,0,0,8"
                                        IsChecked="{Binding RoundedCornersEnabled, RelativeSource={RelativeSource AncestorType=wpfui:UiPage}, Mode=TwoWay}" />
                                    <wpfui:ToggleSwitch
                                        x:Name="_beautificationShadowsToggle"
                                        Content="{x:Static resources:Resource.SystemBeautification_MenuStyleSettings_Appearance_Shadows}"
                                        Margin="0,0,0,0"
                                        IsChecked="{Binding ShadowsEnabled, RelativeSource={RelativeSource AncestorType=wpfui:UiPage}, Mode=TwoWay}" />
                                </StackPanel>
                            </StackPanel>
                        </Border>

                        <!-- Apply Button Section -->
                        <Border
                            Style="{StaticResource RightColumnBeautificationCardStyle}">
                            <StackPanel>
                                <wpfui:Button
                                    x:Name="_applyBeautificationStyleButton"
                                    MinWidth="120"
                                    HorizontalAlignment="Stretch"
                                    Click="ApplyBeautificationStyleButton_Click"
                                    Content="{x:Static resources:Resource.SystemBeautification_MenuStyleSettings_Apply}" />
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </ScrollViewer>
            </Grid>
        </Grid>

    </Grid>
</wpfui:UiPage>

